{
  "issues": [
    {
      "category": "Security",
      "description": "CORS Configuration Too Permissive",
      "expected_behavior": "Restrict CORS origins to specific frontend domain in production configuration instead of allowing all origins",
      "passes": false
    },
    {
      "category": "Production Bug",
      "description": "Hardcoded Localhost URLs",
      "expected_behavior": "Replace hardcoded localhost URLs with configurable API base URL that works in production environments",
      "passes": false
    },
    {
      "category": "Backend Bug",
      "description": "TTS Error Audio File Missing",
      "expected_behavior": "Create or ensure error.wav file exists at /static/error.wav path, or implement proper error handling for missing error audio",
      "passes": false
    },
    {
      "category": "Backend Bug",
      "description": "Settings File Path Construction",
      "expected_behavior": "Fix complex relative path construction in settings_service.py to use absolute paths consistently and prevent path resolution issues",
      "passes": false
    },
    {
      "category": "Backend Bug",
      "description": "Synchronous File Operations in Async Context",
      "expected_behavior": "Replace synchronous file operations with async alternatives (aiofiles) to prevent blocking the event loop",
      "passes": false
    },
    {
      "category": "UX",
      "description": "Add a delete all history button",
      "expected_behavior": "Add a button to clear all chat history at once",
      "passes": false
    },
    {
      "category": "Backend Bug",
      "description": "Session manager is injecting prompts directly during wrap up",
      "expected_behavior": "Wrap up prompt should be handled by llm service, not session manager",
      "passes": false
    },
    {
      "category": "Feature",
      "description": "Add TTS speed setting for user preferences",
      "expected_behavior": "Add a new user setting to control TTS speech speed (0.5-2.0 range, default 1.0). This is especially useful for beginners who may need slower speech. The Kokoro library already supports speed parameter - need to expose it in settings UI and pass it through to the TTS service.",
      "passes": false
    },
    {
      "category": "Code Quality",
      "description": "Fix Code Formatting Issues (Phase 1)",
      "expected_behavior": "Run 'make format-fix' to resolve Black and isort formatting issues across 17 files. This fixes line length, spacing, quote consistency, and import sorting issues automatically.",
      "passes": true
    },
    {
      "category": "Code Quality",
      "description": "Fix Critical Linting Issues (Phase 2)",
      "expected_behavior": "Manually fix critical flake8 violations: (1) Replace bare 'except:' clause in core/audio.py:78 with specific exception handling, (2) Add missing docstrings to all public functions and classes, (3) Remove unused imports (F401 errors), (4) Fix module-level imports not at top of files.",
      "passes": true
    },
    {
      "category": "Code Quality",
      "description": "Add Type Annotations (Phase 3)",
      "expected_behavior": "Add return type annotations to 32 functions missing them (main.py, endpoints, services). Fix 6 type mismatch errors in mypy. Ensure all functions have proper type hints for better type safety and IDE support.",
      "passes": true
    },
    {
      "category": "Code Quality",
      "description": "Refactor Large Functions (Phase 4)",
      "expected_behavior": "Break down functions exceeding 50-line limit: (1) Refactor session_manager.py:process_turn (83 lines) by extracting stop word handling, max turns logic, and response generation into separate methods, (2) Refactor asr_service.py:transcribe (58 lines) by extracting platform-specific implementations into separate methods.",
      "passes": true
    },
    {
      "category": "Deprecation",
      "description": "FastAPI on_event Deprecation Warning",
      "expected_behavior": "Replace deprecated @app.on_event('startup') and @app.on_event('shutdown') decorators in main.py with modern lifespan event handlers using context managers for better FastAPI compatibility.",
      "passes": false
    },
    {
      "category": "Deprecation",
      "description": "PyTorch weight_norm Deprecation Warning",
      "expected_behavior": "Update torch.nn.utils.weight_norm usage to torch.nn.utils.parametrizations.weight_norm to address FutureWarning about deprecated weight_norm function.",
      "passes": false
    },
    {
      "category": "Warning",
      "description": "PyTorch RNN Dropout Configuration Warning",
      "expected_behavior": "Fix RNN dropout configuration warning by either setting num_layers > 1 when using dropout=0.2, or set dropout=0 when num_layers=1 to prevent misleading warning in torch/nn/modules/rnn.py.",
      "passes": false
    }
  ]
}
