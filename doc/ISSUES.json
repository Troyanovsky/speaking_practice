{
  "issues": [
    {
      "id": "BUG-001",
      "type": "bug",
      "epic": "Security",
      "title": "CORS Configuration Too Permissive",
      "description": "The current CORS configuration allows all origins, which is a security risk in production environments.",
      "acceptance_criteria": [
        "Restrict CORS origins to specific frontend domain in production configuration",
        "Ensure development environment still allows localhost origins for testing",
        "Document CORS configuration in deployment guide"
      ],
      "passes": false
    },
    {
      "id": "BUG-002",
      "type": "bug",
      "epic": "Production",
      "title": "Hardcoded Localhost URLs",
      "description": "Multiple files contain hardcoded localhost URLs that will not work in production environments.",
      "acceptance_criteria": [
        "Replace all hardcoded localhost URLs with configurable API base URL",
        "API base URL should be set via environment variable",
        "Frontend configuration works in both development and production",
        "Document environment variable configuration"
      ],
      "passes": false
    },
    {
      "id": "BUG-003",
      "type": "bug",
      "epic": "Audio",
      "title": "TTS Error Audio File Missing",
      "description": "The system references error.wav for TTS error handling, but the file may not exist at the expected path.",
      "acceptance_criteria": [
        "Ensure error.wav file exists at /static/error.wav path",
        "Or implement proper fallback error handling for missing error audio",
        "Add error handling when TTS fails to generate audio"
      ],
      "passes": false
    },
    {
      "id": "BUG-004",
      "type": "bug",
      "epic": "Settings",
      "title": "Settings File Path Construction",
      "description": "Complex relative path construction in settings_service.py can cause path resolution issues.",
      "acceptance_criteria": [
        "Use absolute paths consistently throughout settings_service.py",
        "Simplify path construction logic",
        "Prevent path resolution issues across different operating systems"
      ],
      "passes": false
    },
    {
      "id": "BUG-005",
      "type": "bug",
      "epic": "Performance",
      "title": "Synchronous File Operations in Async Context",
      "description": "Synchronous file operations in async endpoints can block the event loop and reduce performance.",
      "acceptance_criteria": [
        "Replace synchronous file operations with async alternatives (aiofiles)",
        "Update all file read/write operations in async endpoints",
        "Ensure non-blocking I/O throughout the application"
      ],
      "passes": false
    },
    {
      "id": "BUG-006",
      "type": "bug",
      "epic": "Session",
      "title": "Session Manager Prompt Injection",
      "description": "Session manager is directly injecting prompts during wrap-up instead of delegating to LLM service.",
      "acceptance_criteria": [
        "Wrap-up prompt should be handled by llm_service, not session_manager",
        "Maintain clear separation of concerns between services",
        "Ensure consistent prompt handling through LLM service"
      ],
      "passes": false
    },
    {
      "id": "TASK-001",
      "type": "task",
      "epic": "Maintenance",
      "title": "FastAPI on_event Deprecation Warning",
      "description": "The deprecated @app.on_event decorators should be replaced with modern lifespan context managers.",
      "acceptance_criteria": [
        "Replace @app.on_event('startup') and @app.on_event('shutdown') with lifespan context manager",
        "Ensure all startup/shutdown logic is preserved",
        "Test application startup and shutdown behavior",
        "Verify no deprecation warnings in logs"
      ],
      "passes": false
    },
    {
      "id": "TASK-002",
      "type": "task",
      "epic": "Maintenance",
      "title": "PyTorch weight_norm Deprecation Warning",
      "description": "PyTorch's deprecated weight_norm function should be updated to the parametrizations version.",
      "acceptance_criteria": [
        "Update torch.nn.utils.weight_norm to torch.nn.utils.parametrizations.weight_norm",
        "Ensure no functionality is broken after the change",
        "Verify no FutureWarning in logs"
      ],
      "passes": false
    },
    {
      "id": "TASK-003",
      "type": "task",
      "epic": "Maintenance",
      "title": "PyTorch RNN Dropout Configuration Warning",
      "description": "Misleading RNN dropout configuration warning when num_layers=1 and dropout=0.2.",
      "acceptance_criteria": [
        "Fix RNN dropout configuration: either set num_layers > 1 when using dropout=0.2, or set dropout=0 when num_layers=1",
        "Ensure model behavior is consistent with intended design",
        "Verify no warning in logs"
      ],
      "passes": false
    },
    {
      "id": "BUG-007",
      "type": "bug",
      "epic": "Audio",
      "title": "Audio Files Not Cleaned Up on Abnormal App Closure",
      "description": "When the application closes abnormally (crash, force kill, system shutdown), generated audio files are not properly cleaned up, leading to disk space waste.",
      "acceptance_criteria": [
        "Implementing orphaned file cleanup on app startup"
      ],
      "passes": true
    },
    {
      "id": "BUG-008",
      "type": "bug",
      "epic": "Code Quality",
      "title": "Type Checking Errors in ASR Service",
      "description": "mypy detected 2 type checking errors in app/services/asr_service.py related to potential None attribute access on ASR model transcribe method.",
      "acceptance_criteria": [
        "Fix lines 55 and 60 in asr_service.py to handle None ASR model properly",
        "Add proper null checks or type guards before accessing transcribe method",
        "Ensure mypy passes without errors"
      ],
      "passes": true
    },
    {
      "id": "BUG-009",
      "type": "bug",
      "epic": "Code Quality",
      "title": "Exception Classes Don't Follow Best Practices",
      "description": "8 custom exception classes in app/core/exceptions.py don't properly pass args to super().__init__(), causing issues with pickle and copy.copy(). Missing docstrings in __init__ methods.",
      "acceptance_criteria": [
        "Update all 8 exception classes to pass all args to super().__init__()",
        "Add docstrings to all exception __init__ methods",
        "Ensure exceptions work correctly with pickle and copy modules"
      ],
      "passes": true
    },
    {
      "id": "TASK-004",
      "type": "task",
      "epic": "Code Quality",
      "title": "Fix Line Length Violations",
      "description": "Approximately 85 lines across the codebase exceed the 88-character limit defined in flake8 configuration. Main issues in llm_service.py, session_manager.py, and asr_service.py.",
      "acceptance_criteria": [
        "Break up all lines exceeding 88 characters to comply with flake8 E501 rule",
        "Prioritize llm_service.py, session_manager.py, and asr_service.py files",
        "Ensure code remains readable after refactoring",
        "Verify flake8 passes with no E501 errors"
      ],
      "passes": true
    },
    {
      "id": "TASK-005",
      "type": "task",
      "epic": "Code Quality",
      "title": "Refactor Complex ASR Transcribe Function",
      "description": "The _transcribe_nemo function in asr_service.py has 8 return statements, exceeding the maximum allowed 3 (CFQ004 rule). This indicates high cyclomatic complexity.",
      "acceptance_criteria": [
        "Refactor _transcribe_nemo to reduce return statements to 3 or fewer",
        "Extract error handling logic into separate helper functions if needed",
        "Maintain all existing functionality and error handling",
        "Ensure flake8 CFQ004 check passes"
      ],
      "passes": false
    },
    {
      "id": "TASK-006",
      "type": "task",
      "epic": "Testing",
      "title": "Add Missing Docstrings to Test Files",
      "description": "All test files are missing module and function docstrings (D100, D103 violations). Additionally, there are unused imports (F401) and imports not at top of file (E402).",
      "acceptance_criteria": [
        "Add module docstrings to all test files",
        "Add function docstrings to all test functions",
        "Remove unused imports (F401 violations)",
        "Move imports to top of files (E402 violations)",
        "Ensure all test files pass flake8 docstring checks"
      ],
      "passes": false
    },
    {
      "id": "TASK-007",
      "type": "task",
      "epic": "Code Quality",
      "title": "Fix Linting Issues in Scripts and Test Files",
      "description": "Various linting issues in scripts/lint_analysis.py and test files including unused imports, missing docstrings, and line length violations.",
      "acceptance_criteria": [
        "Remove unused imports from lint_analysis.py and test files",
        "Add missing docstrings to lint_analysis.py classes and methods",
        "Fix line length issues in lint_analysis.py",
        "Ensure all scripts and tests pass flake8 checks"
      ],
      "passes": false
    }
  ]
}
